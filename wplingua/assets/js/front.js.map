{"version":3,"file":"front.js","sources":["front.js"],"sourcesContent":["/*!*\r\n **                 _     _                         \r\n ** __      ___ __ | |   (_)_ __   __ _ _   _  __ _ \r\n ** \\ \\ /\\ / / '_ \\| |   | | '_ \\ / _` | | | |/ _` |\r\n **  \\ V  V /| |_) | |___| | | | | (_| | |_| | (_| |\r\n **   \\_/\\_/ | .__/|_____|_|_| |_|\\__, |\\__,_|\\__,_|\r\n **          |_|                  |___/             \r\n **\r\n **        -- wpLingua | WordPress plugin --\r\n **   Translate and make your website multilingual\r\n **\r\n **     https://github.com/julien-jacob/wplingua\r\n **      https://wordpress.org/plugins/wplingua/\r\n **              https://wplingua.com/\r\n **\r\n **/\r\n\r\njQuery(document).ready(function ($) {\r\n\r\n    // ------------------------------------------------------------------------\r\n    // Code for nav menu switcher\r\n    // ------------------------------------------------------------------------\r\n\r\n    /**\r\n     * Set flags images in nav menu switcher\r\n     */\r\n\r\n    $(\"a[data-wplng-flag][data-wplng-alt]\").each(function () {\r\n\r\n        let img = '';\r\n\r\n        img += '<img';\r\n        img += ' src=\"' + $(this).attr(\"data-wplng-flag\") + '\" ';\r\n        img += ' alt=\"' + $(this).attr(\"data-wplng-alt\") + '\" ';\r\n        img += ' class=\"wplng-menu-flag\"';\r\n        img += '> ';\r\n\r\n        $(this).html(img + $(this).html());\r\n        $(this).removeAttr(\"data-wplng-flag\");\r\n        $(this).removeAttr(\"data-wplng-alt\");\r\n    });\r\n\r\n\r\n    // ------------------------------------------------------------------------\r\n    // Code for switcher UI\r\n    // ------------------------------------------------------------------------\r\n\r\n    function wplngUpdateSwitcherOpening() {\r\n\r\n        let windowMiddle = $(window).height() / 2;\r\n\r\n        $(\".wplng-switcher.style-dropdown\").each(function (e) {\r\n\r\n            let offsetFromWindow = $(this).offset().top - $(window).scrollTop();\r\n\r\n            if (offsetFromWindow < windowMiddle) {\r\n                if (!$(this).hasClass(\"open-bottom\")) {\r\n                    $(this).addClass(\"open-bottom\");\r\n                    $(this).removeClass(\"open-top\");\r\n\r\n                    let htmlLanguages = $(\".wplng-languages\", this).prop('outerHTML');\r\n                    let htmlLanguagecurrent = $(\".wplng-language-current\", this).prop('outerHTML');\r\n                    $(\".switcher-content\", this).html(htmlLanguagecurrent + htmlLanguages);\r\n                }\r\n            } else {\r\n                if (!$(this).hasClass(\"open-top\")) {\r\n                    $(this).addClass(\"open-top\");\r\n                    $(this).removeClass(\"open-bottom\");\r\n\r\n                    let htmlLanguages = $(\".wplng-languages\", this).prop('outerHTML');\r\n                    let htmlLanguagecurrent = $(\".wplng-language-current\", this).prop('outerHTML');\r\n                    $(\".switcher-content\", this).html(htmlLanguages + htmlLanguagecurrent);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    $(window).scroll(function () {\r\n        wplngUpdateSwitcherOpening();\r\n    });\r\n\r\n    $(\"#wplng_style\").on(\"input\", function () {\r\n        wplngUpdateSwitcherOpening();\r\n    });\r\n\r\n    wplngUpdateSwitcherOpening();\r\n\r\n    // ------------------------------------------------------------------------\r\n    // Code for switcher Cookie for language browser redirection\r\n    // ------------------------------------------------------------------------\r\n\r\n    /**\r\n     * Handle clicks on all language links that have the data attribute.\r\n     */\r\n\r\n    $('a[data-wplng-lang-id]').on('click', function (event) {\r\n        // Check for the onclick attribute and its value\r\n        const onclickAttribute = $(this).attr('onclick');\r\n\r\n        if (onclickAttribute && onclickAttribute.trim() === 'event.preventDefault();') {\r\n            // If the onclick attribute is present and its value is 'event.preventDefault();',\r\n            // we assume this link is not meant for navigation. So, we don't set the cookie.\r\n            return;\r\n        }\r\n\r\n        // Get the language code directly from the data attribute.\r\n        const langCode = $(this).data('wplng-lang-id');\r\n\r\n        // Set the cookie with the retrieved language code.\r\n        const expires = new Date();\r\n        expires.setFullYear(expires.getFullYear() + 1);\r\n        document.cookie = 'wplingua-lang=' + langCode + '; expires=' + expires.toUTCString() + '; path=/';\r\n\r\n    });\r\n\r\n\r\n    // ------------------------------------------------------------------------\r\n    // Code for preloading\r\n    // ------------------------------------------------------------------------\r\n\r\n    /**\r\n     * Load the translation and reload the page\r\n     */\r\n\r\n    if ($(\"#wplng-in-progress-container\").length) {\r\n\r\n        let loadUrl = $(\"#wplng-in-progress-container\").attr(\"data-wplng-url-load\");\r\n        let reloadUrl = $(\"#wplng-in-progress-container\").attr(\"data-wplng-url-reload\");\r\n\r\n        if (loadUrl && loadUrl.trim() !== \"\") {\r\n\r\n            $.ajax({\r\n                url: loadUrl,\r\n                method: \"GET\",\r\n                success: function (response) {\r\n                    if (reloadUrl && reloadUrl.trim() !== \"\") {\r\n\r\n                        // Set 100% if is the last load in progress reload\r\n                        if ((reloadUrl.indexOf(\"?wplng-load=\") === -1)\r\n                            && (reloadUrl.indexOf(\"&wplng-load=\") === -1)\r\n                        ) {\r\n                            $(\"#wplng-in-progress-percent\").html(\"100\");\r\n                            $(\"#wplng-progress-bar-value\").animate(\r\n                                { width: \"100%\" },\r\n                                500\r\n                            );\r\n                        }\r\n\r\n                        window.location.href = reloadUrl;\r\n\r\n                    } else {\r\n                        console.log(\"wpLingua ERROR: Load in progress - Invalid reload URL\");\r\n                    }\r\n                }\r\n            });\r\n\r\n        } else {\r\n            console.log(\"wpLingua ERROR: Load in progress - Invalid load URL\");\r\n        }\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * Update percentage for the load in progress bar\r\n     */\r\n\r\n    function wplngUpdatePercent() {\r\n        let percent = parseInt($(\"#wplng-in-progress-percent\").html());\r\n        if (percent < 99) {\r\n            percent++;\r\n            $(\"#wplng-in-progress-percent\").html(percent);\r\n            $(\"#wplng-progress-bar-value\").animate(\r\n                { width: percent.toString() + \"%\" },\r\n                500\r\n            );\r\n        }\r\n    }\r\n\r\n    wplngUpdatePercent();\r\n\r\n    if ($(\"#wplng-in-progress-percent\").length) {\r\n        setInterval(wplngUpdatePercent, 2000);\r\n    }\r\n\r\n    if ($(\"#wpadminbar\").length && $(\"#wplng-in-progress-container\").length) {\r\n        $(\"#wpadminbar\").hide();\r\n    }\r\n\r\n\r\n    // ------------------------------------------------------------------------\r\n    // Code for overload bar\r\n    // ------------------------------------------------------------------------\r\n\r\n    $(\"#wplng-overloaded-close\").on(\"click\", function () {\r\n        $(\"#wplng-overloaded-container\").hide();\r\n    });\r\n\r\n}); // End jQuery loaded event\r\n"],"names":["jQuery","document","ready","$","wplngUpdateSwitcherOpening","let","windowMiddle","window","height","each","e","htmlLanguages","htmlLanguagecurrent","this","offset","top","scrollTop","hasClass","addClass","removeClass","prop","html","img","attr","removeAttr","scroll","on","event","expires","onclickAttribute","trim","langCode","data","Date","setFullYear","getFullYear","cookie","toUTCString","length","loadUrl","reloadUrl","ajax","url","method","success","response","indexOf","animate","width","location","href","console","log","wplngUpdatePercent","percent","parseInt","toString","setInterval","hide"],"mappings":"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"}